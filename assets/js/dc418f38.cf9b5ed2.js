"use strict";(self.webpackChunkcypress_docusaurus_zh=self.webpackChunkcypress_docusaurus_zh||[]).push([[3454],{9640:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>t});var s=n(5893),i=n(1151);const c={title:"Cypress.isBrowser"},o=void 0,l={id:"api/cypress-api/isbrowser",title:"Cypress.isBrowser",description:"Cypress.isBrowser checks if the current browser matches the given name or",source:"@site/docs/api/cypress-api/isbrowser.mdx",sourceDirName:"api/cypress-api",slug:"/api/cypress-api/isbrowser",permalink:"/api/cypress-api/isbrowser",draft:!1,unlisted:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/api/cypress-api/isbrowser.mdx",tags:[],version:"current",lastUpdatedAt:1732009455,formattedLastUpdatedAt:"Nov 19, 2024",frontMatter:{title:"Cypress.isBrowser"},sidebar:"api",previous:{title:"Cypress.env",permalink:"/api/cypress-api/env"},next:{title:"Cypress.isCy",permalink:"/api/cypress-api/iscy"}},d={},t=[{value:"Syntax",id:"Syntax",level:2},{value:"Arguments",id:"Arguments",level:3},{value:"Examples",id:"Examples",level:2},{value:"Matcher",id:"Matcher",level:3},{value:"Only run command in Chrome",id:"Only-run-command-in-Chrome",level:4},{value:"Run command in all browsers except Chrome",id:"Run-command-in-all-browsers-except-Chrome",level:4},{value:"Matchers",id:"Matchers",level:3},{value:"Run commands in all specified browsers",id:"Run-commands-in-all-specified-browsers",level:4},{value:"Run commands in all browsers except specified",id:"Run-commands-in-all-browsers-except-specified",level:4},{value:"Filter",id:"Filter",level:3},{value:"Only run commands in Chromium-based browser",id:"Only-run-commands-in-Chromium-based-browser",level:4},{value:"Only run on stable release in Chromium-based browser",id:"Only-run-on-stable-release-in-Chromium-based-browser",level:4},{value:"Only run on specific release channels of browsers",id:"Only-run-on-specific-release-channels-of-browsers",level:4},{value:"Notes",id:"Notes",level:3},{value:"Test configuration: <code>browser</code>",id:"Test-configuration-browser",level:4},{value:"History",id:"History",level:2},{value:"See also",id:"See-also",level:2}];function a(e){const r={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components},{Icon:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Icon",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"Cypress.isBrowser"})," checks if the current browser matches the given name or\nfilter."]}),"\n",(0,s.jsx)(r.h2,{id:"Syntax",children:"Syntax"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"Cypress.isBrowser(matcher)\nCypress.isBrowser(matchers)\nCypress.isBrowser(filter)\n"})}),"\n",(0,s.jsx)(r.h3,{id:"Arguments",children:"Arguments"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(n,{name:"angle-right"})," ",(0,s.jsxs)(r.strong,{children:["matcher ",(0,s.jsx)(r.em,{children:"(String)"})]})]}),"\n",(0,s.jsxs)(r.p,{children:["The name of the browser (case-insensitive) you want to check against. Name can\nbe prepended with a ",(0,s.jsx)(r.code,{children:"!"})," character to inverse the check."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(n,{name:"angle-right"})," ",(0,s.jsxs)(r.strong,{children:["matchers ",(0,s.jsx)(r.em,{children:"(Array)"})]})]}),"\n",(0,s.jsxs)(r.p,{children:["An array of the names of the browsers (case-insensitive) you want to check\nagainst. Name can be prepended with a ",(0,s.jsx)(r.code,{children:"!"})," character to inverse the check."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(n,{name:"angle-right"})," ",(0,s.jsxs)(r.strong,{children:["filter ",(0,s.jsx)(r.em,{children:"(Object or Array)"})]})]}),"\n",(0,s.jsxs)(r.p,{children:["Filter one or multiple browsers by the browser properties. You can inspect the\ncurrent browser's properties by using the\n",(0,s.jsx)(r.a,{href:"/api/cypress-api/browser",children:"Cypress.browser"}),". Supported properties are:"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Property"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"name"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"string"})}),(0,s.jsxs)(r.td,{children:["Machine-friendly name, like ",(0,s.jsx)(r.code,{children:"chrome"}),", ",(0,s.jsx)(r.code,{children:"electron"}),", or ",(0,s.jsx)(r.code,{children:"firefox"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"family"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"string"})}),(0,s.jsxs)(r.td,{children:["Rendering engine being used. ",(0,s.jsx)(r.code,{children:"chromium"})," or ",(0,s.jsx)(r.code,{children:"firefox"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"channel"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"string"})}),(0,s.jsxs)(r.td,{children:["Release channel of the browser, such as ",(0,s.jsx)(r.code,{children:"stable"}),", ",(0,s.jsx)(r.code,{children:"dev"}),", or ",(0,s.jsx)(r.code,{children:"canary"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"displayName"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"string"})}),(0,s.jsx)(r.td,{children:"Human-readable display name for the browser."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"version"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"string"})}),(0,s.jsx)(r.td,{children:"Full version."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"path"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"string"})}),(0,s.jsx)(r.td,{children:"Path to the browser on disk. Blank for Electron."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"majorVersion"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"number"})}),(0,s.jsx)(r.td,{children:"The major version number of the browser."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"isHeadless"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"boolean"})}),(0,s.jsx)(r.td,{children:"Whether the browser is running headlessly."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"isHeaded"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"boolean"})}),(0,s.jsx)(r.td,{children:"Whether the browser displays headed."})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"Examples",children:"Examples"}),"\n",(0,s.jsx)(r.h3,{id:"Matcher",children:"Matcher"}),"\n",(0,s.jsx)(r.h4,{id:"Only-run-command-in-Chrome",children:"Only run command in Chrome"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"it('download extension link', () => {\n  // true when running in Firefox\n  if (Cypress.isBrowser('firefox')) {\n    cy.get('#dl-extension').should('contain', 'Download Firefox Extension')\n  }\n\n  // true when running in Chrome\n  if (Cypress.isBrowser('chrome')) {\n    cy.get('#dl-extension').should('contain', 'Download Chrome Extension')\n  }\n})\n"})}),"\n",(0,s.jsx)(r.h4,{id:"Run-command-in-all-browsers-except-Chrome",children:"Run command in all browsers except Chrome"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"it('warns to view page in Chrome browser', () => {\n  // true when running in Firefox, etc...\n  if (Cypress.isBrowser('!chrome')) {\n    cy.get('.browser-warning').should(\n      'contain',\n      'For optimal viewing, use Chrome browser'\n    )\n  }\n})\n"})}),"\n",(0,s.jsx)(r.h3,{id:"Matchers",children:"Matchers"}),"\n",(0,s.jsx)(r.h4,{id:"Run-commands-in-all-specified-browsers",children:"Run commands in all specified browsers"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"it('colors rainbow', () => {\n  // true when running in Electron or Chrome\n  if (Cypress.isBrowser(['electron', 'chrome'])) {\n    cy.get('.rainbox').should(\n      'have.css',\n      'conic-gradient(red, orange, yellow, green, blue)'\n    )\n  }\n})\n"})}),"\n",(0,s.jsx)(r.h4,{id:"Run-commands-in-all-browsers-except-specified",children:"Run commands in all browsers except specified"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"// true when running in browser other than chrome and electron\nit('does not run in Firefox and Chrome', () => {\n  if (Cypress.isBrowser(['!electron', '!chrome'])) {\n    cy.get('#h4').should('have.css', 'font-size-adjust', '0.5')\n  }\n})\n"})}),"\n",(0,s.jsx)(r.h3,{id:"Filter",children:"Filter"}),"\n",(0,s.jsx)(r.h4,{id:"Only-run-commands-in-Chromium-based-browser",children:"Only run commands in Chromium-based browser"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"it('has CSS reflections', () => {\n  // if in Chromium-based browser (Chrome, Electron, etc...)\n  // check css property was properly applied\n  if (Cypress.isBrowser({ family: 'chromium' })) {\n    cy.get('.header').should('have.css', '-webkit-box-reflect', 'left')\n  }\n})\n"})}),"\n",(0,s.jsx)(r.h4,{id:"Only-run-on-stable-release-in-Chromium-based-browser",children:"Only run on stable release in Chromium-based browser"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"it('test', () => {\n  // true when in any stable release of a Chromium-based browser\n  if (Cypress.isBrowser({ family: 'chromium', channel: 'stable' })) {\n    // test some (hypothetical) scenario in chrome stable\n  }\n})\n"})}),"\n",(0,s.jsx)(r.h4,{id:"Only-run-on-specific-release-channels-of-browsers",children:"Only run on specific release channels of browsers"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"it('test', () => {\n  // true when running in Chrome Canary\n  // and dev releases of Firefox browser\n  if (\n    Cypress.isBrowser([\n      { family: 'chromium', channel: 'canary' },\n      { family: 'firefox', channel: 'dev' },\n    ])\n  ) {\n    // test some (hypothetical) scenario\n  }\n})\n"})}),"\n",(0,s.jsx)(r.h3,{id:"Notes",children:"Notes"}),"\n",(0,s.jsxs)(r.h4,{id:"Test-configuration-browser",children:["Test configuration: ",(0,s.jsx)(r.code,{children:"browser"})]}),"\n",(0,s.jsxs)(r.p,{children:["If you want to target a test or suite to run or be excluded when run in a\nspecific browser, we suggest passing the ",(0,s.jsx)(r.code,{children:"browser"})," within the\n",(0,s.jsx)(r.a,{href:"/app/references/configuration#Test-Configuration",children:"test configuration"}),". The\n",(0,s.jsx)(r.code,{children:"browser"})," option accepts the same ",(0,s.jsx)(r.a,{href:"#Arguments",children:"arguments"})," as\n",(0,s.jsx)(r.code,{children:"Cypress.isBrowser()"}),"."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",children:"it('Download extension in Firefox', { browser: 'firefox' }, () => {\n  cy.get('#dl-extension').should('contain', 'Download Firefox Extension')\n})\n"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",children:"it('Show warning outside Chrome', { browser: '!chrome' }, () => {\n  cy.get('.browser-warning').should(\n    'contain',\n    'For optimal viewing, use Chrome browser'\n  )\n})\n"})}),"\n",(0,s.jsx)(r.h2,{id:"History",children:"History"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Version"}),(0,s.jsx)(r.th,{children:"Changes"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/app/references/changelog#4-8-0",children:"4.8.0"})}),(0,s.jsxs)(r.td,{children:["Expanded ",(0,s.jsx)(r.code,{children:"matcher"})," and ",(0,s.jsx)(r.code,{children:"matchers"})," arguments to assist in filtering browsers."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/app/references/changelog#4-0-0",children:"4.0.0"})}),(0,s.jsxs)(r.td,{children:["Added ",(0,s.jsx)(r.code,{children:"isBrowser"})," command."]})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"See-also",children:"See also"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/node-events/browser-launch-api",children:"Browser Launch API"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/app/guides/cross-browser-testing",children:"Cross Browser Testing"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/cypress-api/browser",children:"Cypress.browser"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/app/references/launching-browsers",children:"Launching Browsers"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/app/references/configuration#Test-Configuration",children:"Test Configuration"})}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,r,n)=>{n.d(r,{Z:()=>l,a:()=>o});var s=n(7294);const i={},c=s.createContext(i);function o(e){const r=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(c.Provider,{value:r},e.children)}}}]);