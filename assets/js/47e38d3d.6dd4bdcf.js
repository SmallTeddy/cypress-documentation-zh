"use strict";(self.webpackChunkcypress_docusaurus_zh=self.webpackChunkcypress_docusaurus_zh||[]).push([[9354],{6655:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>p});var i=t(5893),s=t(1151);const o={title:"React Component Testing",sidebar_position:10,sidebar_label:"Overview"},r=void 0,a={id:"app/component-testing/react/overview",title:"React Component Testing",description:"What you'll learn",source:"@site/docs/app/component-testing/react/overview.mdx",sourceDirName:"app/component-testing/react",slug:"/app/component-testing/react/overview",permalink:"/app/component-testing/react/overview",draft:!1,unlisted:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/app/component-testing/react/overview.mdx",tags:[],version:"current",lastUpdatedAt:1732009455,formattedLastUpdatedAt:"Nov 19, 2024",sidebarPosition:10,frontMatter:{title:"React Component Testing",sidebar_position:10,sidebar_label:"Overview"},sidebar:"app",previous:{title:"Configuration",permalink:"/app/component-testing/component-framework-configuration"},next:{title:"Examples",permalink:"/app/component-testing/react/examples"}},c={},p=[{value:"<Icon></Icon> What you&#39;ll learn",id:"What-youll-learn",level:5},{value:"Framework Support",id:"Framework-Support",level:2},{value:"Tutorial",id:"Tutorial",level:2},{value:"Installation",id:"Installation",level:2},{value:"Framework Configuration",id:"Framework-Configuration",level:2},{value:"Create React App (CRA)",id:"Create-React-App-CRA",level:3},{value:"CRA Configuration",id:"CRA-Configuration",level:4},{value:"Sample Create React Apps",id:"Sample-Create-React-Apps",level:4},{value:"Next.js",id:"Nextjs",level:3},{value:"Next.js Configuration",id:"Nextjs-Configuration",level:4},{value:"Next.js Caveats",id:"Nextjs-Caveats",level:4},{value:"Sample Next.js Apps",id:"Sample-Nextjs-Apps",level:4},{value:"React with Vite",id:"React-with-Vite",level:3},{value:"Vite Configuration",id:"Vite-Configuration",level:4},{value:"Sample React Vite Apps",id:"Sample-React-Vite-Apps",level:4},{value:"React with Webpack",id:"React-with-Webpack",level:3},{value:"Webpack Configuration",id:"Webpack-Configuration",level:4},{value:"Sample React Webpack Apps",id:"Sample-React-Webpack-Apps",level:4},{value:"Community Resources",id:"Community-Resources",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components},{CypressConfigFileTabs:t,CypressInstallCommands:o,CypressOpenCommands:r,DocsImage:a,Icon:c}=n;return t||h("CypressConfigFileTabs",!0),o||h("CypressInstallCommands",!0),r||h("CypressOpenCommands",!0),a||h("DocsImage",!0),c||h("Icon",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.h5,{id:"What-youll-learn",children:[(0,i.jsx)(c,{name:"question-circle",color:"#4BBFD2"})," What you'll learn"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"How to set up component tests in React"}),"\n",(0,i.jsx)(n.li,{children:"How to use Cypress with different React frameworks and bundlers"}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"Framework-Support",children:"Framework Support"}),"\n",(0,i.jsx)(n.p,{children:"Cypress Component Testing currently supports React 16+ with the following\nframeworks:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#Create-React-App-CRA",children:"Create React App"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#Nextjs",children:"Next.js"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#React-with-Vite",children:"React with Vite"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#React-with-Webpack",children:"React with Webpack"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"Tutorial",children:"Tutorial"}),"\n",(0,i.jsxs)(n.p,{children:["Visit the\n",(0,i.jsx)(n.a,{href:"/app/component-testing/get-started",children:"Getting Started Guide"})," for a\nstep-by-step tutorial on adding component testing to any project and how to write your first tests."]}),"\n",(0,i.jsx)(n.h2,{id:"Installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"To get up and running with Cypress Component Testing in React, install Cypress\ninto your project:"}),"\n",(0,i.jsx)(o,{}),"\n",(0,i.jsx)(n.p,{children:"Open Cypress:"}),"\n",(0,i.jsx)(r,{}),"\n",(0,i.jsx)(a,{src:"/img/app/component-testing/select-test-type.jpg",caption:"Choose Component Testing"}),"\n",(0,i.jsx)(n.p,{children:"The Cypress Launchpad will guide you through configuring your project."}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["For a step-by-step guide on how to create a component test, refer to the\n",(0,i.jsx)(n.a,{href:"/app/component-testing/get-started",children:"Getting Started"})," guide."]}),(0,i.jsxs)(n.p,{children:["For usage and examples, visit the\n",(0,i.jsx)(n.a,{href:"/app/component-testing/react/examples",children:"React Examples"})," guide."]})]}),"\n",(0,i.jsx)(n.h2,{id:"Framework-Configuration",children:"Framework Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Cypress Component Testing works out of the box with\n",(0,i.jsx)(n.a,{href:"https://create-react-app.dev/",children:"Create React App"}),",\n",(0,i.jsx)(n.a,{href:"https://nextjs.org/",children:"Next.js"}),", ",(0,i.jsx)(n.a,{href:"https://vitejs.dev/",children:"Vite"}),", and a custom\n",(0,i.jsx)(n.a,{href:"https://webpack.js.org/",children:"Webpack"})," config. Cypress will automatically detect one\nof these frameworks during setup and configure them properly. The examples below\nare for reference purposes."]}),"\n",(0,i.jsx)(n.h3,{id:"Create-React-App-CRA",children:"Create React App (CRA)"}),"\n",(0,i.jsx)(n.p,{children:"Cypress Component Testing works with CRA 4+."}),"\n",(0,i.jsx)(n.h4,{id:"CRA-Configuration",children:"CRA Configuration"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"",children:"const { defineConfig } = require('cypress')\n\nmodule.exports = defineConfig({\n  component: {\n    devServer: {\n      framework: 'create-react-app',\n      bundler: 'webpack',\n    },\n  },\n})\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:"",children:"import { defineConfig } from 'cypress'\n\nexport default defineConfig({\n  component: {\n    devServer: {\n      framework: 'create-react-app',\n      bundler: 'webpack',\n    },\n  },\n})\n"})})]}),"\n",(0,i.jsx)(n.h4,{id:"Sample-Create-React-Apps",children:"Sample Create React Apps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/cypress-component-testing-apps/tree/main/react-cra4-js",children:"CRA 4 with JavaScript"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/cypress-component-testing-apps/tree/main/react-cra5-ts",children:"CRA 5 with TypeScript"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"Nextjs",children:"Next.js"}),"\n",(0,i.jsx)(n.p,{children:"Cypress Component Testing works with Next.js 11+."}),"\n",(0,i.jsx)(n.h4,{id:"Nextjs-Configuration",children:"Next.js Configuration"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"",children:"const { defineConfig } = require('cypress')\n\nmodule.exports = defineConfig({\n  component: {\n    devServer: {\n      framework: 'next',\n      bundler: 'webpack',\n    },\n  },\n})\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:"",children:"import { defineConfig } from 'cypress'\n\nexport default defineConfig({\n  component: {\n    devServer: {\n      framework: 'next',\n      bundler: 'webpack',\n    },\n  },\n})\n"})})]}),"\n",(0,i.jsx)(n.h4,{id:"Nextjs-Caveats",children:"Next.js Caveats"}),"\n",(0,i.jsxs)(n.p,{children:["There are some specific caveats to consider when testing Next.js\n",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/basic-features/pages",children:"Pages"})," in component testing."]}),"\n",(0,i.jsxs)(n.p,{children:["A page component could have additional logic in its ",(0,i.jsx)(n.code,{children:"getServerSideProps"})," or\n",(0,i.jsx)(n.code,{children:"getStaticProps"})," methods. These methods only run on the server, so they are not\navailable to run inside a component test. Trying to test a page in a component\ntest would result in the props being passed into the page to be undefined."]}),"\n",(0,i.jsx)(n.p,{children:"While you could pass in props directly to the page component in a component\ntest, that would leave these server-side methods untested. However, an\nend-to-end test would execute and test a page entirely."}),"\n",(0,i.jsx)(n.p,{children:"Because of this, we recommend using E2E Testing over Component Testing for\nNext.js pages and Component Testing for individual components in a Next.js app."}),"\n",(0,i.jsx)(n.h4,{id:"Sample-Nextjs-Apps",children:"Sample Next.js Apps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/cypress-component-testing-apps/tree/main/react-next13-ts",children:"Next.js 13 with TypeScript"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"React-with-Vite",children:"React with Vite"}),"\n",(0,i.jsx)(n.p,{children:"Cypress Component Testing works with React apps that use Vite 2+ as the bundler."}),"\n",(0,i.jsx)(n.h4,{id:"Vite-Configuration",children:"Vite Configuration"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"",children:"const { defineConfig } = require('cypress')\nconst customViteConfig = require('./customConfig')\n\nmodule.exports = defineConfig({\n  component: {\n    devServer: {\n      framework: 'react',\n      bundler: 'vite',\n      // optionally pass in vite config\n      viteConfig: customViteConfig,\n      // or a function - the result is merged with\n      // any `vite.config` file that is detected\n      viteConfig: async () => {\n        // ... do things ...\n        const modifiedConfig = await injectCustomConfig(baseConfig)\n        return modifiedConfig\n      },\n    },\n  },\n})\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:"",children:"import { defineConfig } from 'cypress'\nimport customViteConfig from './customConfig'\n\nexport default defineConfig({\n  component: {\n    devServer: {\n      framework: 'react',\n      bundler: 'vite',\n      // optionally pass in vite config\n      viteConfig: customViteConfig,\n      // or a function - the result is merged with\n      // any `vite.config` file that is detected\n      viteConfig: async () => {\n        // ... do things ...\n        const modifiedConfig = await injectCustomConfig(baseConfig)\n        return modifiedConfig\n      },\n    },\n  },\n})\n"})})]}),"\n",(0,i.jsx)(n.h4,{id:"Sample-React-Vite-Apps",children:"Sample React Vite Apps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/cypress-component-testing-apps/tree/main/react-vite-ts",children:"React Vite with TypeScript"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"React-with-Webpack",children:"React with Webpack"}),"\n",(0,i.jsx)(n.p,{children:"Cypress Component Testing works with React apps that use Webpack 4+ as the\nbundler."}),"\n",(0,i.jsx)(n.h4,{id:"Webpack-Configuration",children:"Webpack Configuration"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"",children:"const { defineConfig } = require('cypress')\nconst webpackConfig = require('./webpack.config')\n\nmodule.exports = defineConfig({\n  component: {\n    devServer: {\n      framework: 'react',\n      bundler: 'webpack',\n      // optionally pass in webpack config\n      webpackConfig,\n      // or a function - the result is merged with any\n      // webpack.config that is found\n      webpackConfig: async () => {\n        // ... do things ...\n        const modifiedConfig = await injectCustomConfig(baseConfig)\n        return modifiedConfig\n      },\n    },\n  },\n})\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:"",children:"import { defineConfig } from 'cypress'\nimport webpackConfig from './webpack.config'\n\nexport default defineConfig({\n  component: {\n    devServer: {\n      framework: 'react',\n      bundler: 'webpack',\n      // optionally pass in webpack config\n      webpackConfig,\n      // or a function - the result is merged with any\n      // webpack.config that is found\n      webpackConfig: async () => {\n        // ... do things ...\n        const modifiedConfig = await injectCustomConfig(baseConfig)\n        return modifiedConfig\n      },\n    },\n  },\n})\n"})})]}),"\n",(0,i.jsxs)(n.p,{children:["If you don't provide a webpack config, Cypress will try to infer it. If Cypress\ncannot do so, or you want to make modifications to your config, you can specify\nit via the ",(0,i.jsx)(n.code,{children:"webpackConfig"})," option."]}),"\n",(0,i.jsx)(n.h4,{id:"Sample-React-Webpack-Apps",children:"Sample React Webpack Apps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/cypress-io/cypress-component-testing-apps/tree/main/react-webpack5-js",children:"React Webpack 5 with JavaScript"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"Community-Resources",children:"Community Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://muratkerem.gitbook.io/cctdd/",children:"Cypress Component Test Driven Design"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/muratkeremozcan/cypress-react-component-test-examples",children:"Cypress React Component Test Examples"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}function h(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>r});var i=t(7294);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);