"use strict";(self.webpackChunkcypress_docusaurus_zh=self.webpackChunkcypress_docusaurus_zh||[]).push([[6782],{4150:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>o});var t=s(5893),i=s(1151);const l={title:"contains",slug:"/api/commands/contains"},c=void 0,a={id:"api/commands/contains",title:"contains",description:"Get the DOM element containing the text. DOM elements can contain more than",source:"@site/docs/api/commands/contains.mdx",sourceDirName:"api/commands",slug:"/api/commands/contains",permalink:"/api/commands/contains",draft:!1,unlisted:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/api/commands/contains.mdx",tags:[],version:"current",lastUpdatedAt:1732009455,formattedLastUpdatedAt:"Nov 19, 2024",frontMatter:{title:"contains",slug:"/api/commands/contains"},sidebar:"api",previous:{title:"closest",permalink:"/api/commands/closest"},next:{title:"dblclick",permalink:"/api/commands/dblclick"}},r={},o=[{value:"Syntax",id:"Syntax",level:2},{value:"Usage",id:"Usage",level:3},{value:"Arguments",id:"Arguments",level:3},{value:"Yields <Icon></Icon>",id:"Yields",level:3},{value:"Examples",id:"Examples",level:2},{value:"Content",id:"Content",level:3},{value:"Find the first element containing some text",id:"Find-the-first-element-containing-some-text",level:4},{value:"Find the <code>input[type=&#39;submit&#39;]</code> by value",id:"Find-the-inputtypesubmit-by-value",level:4},{value:"Number",id:"Number",level:3},{value:"Find the first element containing a number",id:"Find-the-first-element-containing-a-number",level:4},{value:"Regular Expression",id:"Regular-Expression",level:3},{value:"Find the first element with text matching the regular expression",id:"Find-the-first-element-with-text-matching-the-regular-expression",level:4},{value:"Selector",id:"Selector",level:3},{value:"Specify a selector to return a specific element",id:"Specify-a-selector-to-return-a-specific-element",level:4},{value:"Keep the form as the subject",id:"Keep-the-form-as-the-subject",level:4},{value:"Case Sensitivity",id:"Case-Sensitivity",level:3},{value:"Notes",id:"Notes",level:2},{value:"Scopes",id:"Scopes",level:3},{value:"When starting a series of commands:",id:"When-starting-a-series-of-commands",level:4},{value:"When chained to an existing series of commands",id:"When-chained-to-an-existing-series-of-commands",level:4},{value:"Be wary of chaining multiple contains",id:"Be-wary-of-chaining-multiple-contains",level:4},{value:"Leading, trailing, duplicate whitespaces aren&#39;t ignored in <code>&lt;pre&gt;</code> tag",id:"Leading-trailing-duplicate-whitespaces-arent-ignored-in-pre-tag",level:3},{value:"Non-breaking space",id:"Non-breaking-space",level:3},{value:"Single Element",id:"Single-Element",level:3},{value:"Only the <em>first</em> matched element will be returned",id:"Only-the-first-matched-element-will-be-returned",level:4},{value:"Default <code>&lt;input type=&quot;submit&quot;&gt;</code> labels",id:"Default-input-typesubmit-labels",level:3},{value:"Preferences",id:"Preferences",level:3},{value:"Element preference order",id:"Element-preference-order",level:4},{value:"Favor of <code>&lt;button&gt;</code> over other deeper elements",id:"Favor-of-button-over-other-deeper-elements",level:4},{value:"Favor of <code>&lt;a&gt;</code> over other deeper elements",id:"Favor-of-a-over-other-deeper-elements",level:4},{value:"Favor of <code>&lt;label&gt;</code> over other deeper elements",id:"Favor-of-label-over-other-deeper-elements",level:4},{value:"Rules",id:"Rules",level:2},{value:"Requirements <Icon></Icon>",id:"Requirements",level:3},{value:"Assertions <Icon></Icon>",id:"Assertions",level:3},{value:"Timeouts <Icon></Icon>",id:"Timeouts",level:3},{value:"Command Log",id:"Command-Log",level:2},{value:"History",id:"History",level:2},{value:"See also",id:"See-also",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components},{DocsImage:s,Icon:l}=n;return s||p("DocsImage",!0),l||p("Icon",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Get the DOM element containing the text. DOM elements can contain ",(0,t.jsx)(n.em,{children:"more"})," than\nthe desired text and still match. Additionally, Cypress\n",(0,t.jsx)(n.a,{href:"#Notes",children:"prefers some DOM elements"})," over the deepest element found."]}),"\n",(0,t.jsx)(n.h2,{id:"Syntax",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:".contains(content)\n.contains(content, options)\n.contains(selector, content)\n.contains(selector, content, options)\n\n// ---or---\n\ncy.contains(content)\ncy.contains(content, options)\ncy.contains(selector, content)\ncy.contains(selector, content, options)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"Usage",children:"Usage"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(l,{name:"check-circle",color:"green"})," ",(0,t.jsx)(n.strong,{children:"Correct Usage"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.get('.nav').contains('About') // Yield el in .nav containing 'About'\ncy.contains('Hello') // Yield first el in document containing 'Hello'\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(l,{name:"exclamation-triangle",color:"red"})," ",(0,t.jsx)(n.strong,{children:"Incorrect Usage"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.title().contains('My App') // Errors, 'title' does not yield DOM element\ncy.getCookies().contains('_key') // Errors, 'getCookies' does not yield DOM element\n"})}),"\n",(0,t.jsx)(n.h3,{id:"Arguments",children:"Arguments"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(l,{name:"angle-right"})," ",(0,t.jsxs)(n.strong,{children:["content ",(0,t.jsx)(n.em,{children:"(String, Number, RegExp)"})]})]}),"\n",(0,t.jsx)(n.p,{children:"Get the DOM element containing the content."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(l,{name:"angle-right"})," ",(0,t.jsxs)(n.strong,{children:["selector ",(0,t.jsx)(n.em,{children:"(String selector)"})]})]}),"\n",(0,t.jsxs)(n.p,{children:["Specify a selector to filter DOM elements containing the text. Cypress will\n",(0,t.jsx)(n.em,{children:"ignore"})," its ",(0,t.jsx)(n.a,{href:"#Notes",children:"default preference order"})," for the specified selector.\nUsing a selector allows you to return more ",(0,t.jsx)(n.em,{children:"shallow"})," elements (higher in the\ntree) that contain the specific text."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(l,{name:"angle-right"})," ",(0,t.jsxs)(n.strong,{children:["options ",(0,t.jsx)(n.em,{children:"(Object)"})]})]}),"\n",(0,t.jsxs)(n.p,{children:["Pass in an options object to change the default behavior of ",(0,t.jsx)(n.code,{children:".contains()"}),"."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"matchCase"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"true"})}),(0,t.jsx)(n.td,{children:"Check case sensitivity"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"log"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"true"})}),(0,t.jsxs)(n.td,{children:["Displays the command in the ",(0,t.jsx)(n.a,{href:"/app/core-concepts/open-mode#Command-Log",children:"Command log"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"timeout"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/app/references/configuration#Timeouts",children:(0,t.jsx)(n.code,{children:"defaultCommandTimeout"})})}),(0,t.jsxs)(n.td,{children:["Time to wait for ",(0,t.jsx)(n.code,{children:".contains()"})," to resolve before ",(0,t.jsx)(n.a,{href:"#Timeouts",children:"timing out"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"includeShadowDom"})}),(0,t.jsx)(n.td,{children:(0,t.jsxs)(n.a,{href:"/app/references/configuration#Global",children:[(0,t.jsx)(n.code,{children:"includeShadowDom"})," config option value"]})}),(0,t.jsx)(n.td,{children:"Whether to traverse shadow DOM boundaries and include elements within the shadow DOM in the yielded results."})]})]})]}),"\n",(0,t.jsxs)(n.h3,{id:"Yields",children:["Yields ",(0,t.jsx)(n.a,{href:"/app/core-concepts/introduction-to-cypress#Subject-Management",children:(0,t.jsx)(l,{name:"question-circle"})})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".contains()"})," yields the new DOM element it found."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".contains()"})," is a query, and it is ",(0,t.jsx)(n.em,{children:"safe"})," to chain further commands."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"Examples",children:"Examples"}),"\n",(0,t.jsx)(n.h3,{id:"Content",children:"Content"}),"\n",(0,t.jsx)(n.h4,{id:"Find-the-first-element-containing-some-text",children:"Find the first element containing some text"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<ul>\n  <li>apples</li>\n  <li>oranges</li>\n  <li>bananas</li>\n</ul>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields <li>apples</li>\ncy.contains('apples')\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"Find-the-inputtypesubmit-by-value",children:["Find the ",(0,t.jsx)(n.code,{children:"input[type='submit']"})," by value"]}),"\n",(0,t.jsx)(n.p,{children:'Get the form element and search in its descendants for the content "submit the\nform!"'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<div id="main">\n  <form>\n    <div>\n      <label>name</label>\n      <input name="name" />\n    </div>\n    <div>\n      <label>age</label>\n      <input name="age" />\n    </div>\n    <input type="submit" value="submit the form!" />\n  </form>\n</div>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields input[type='submit'] element then clicks it\ncy.get('form').contains('submit the form!').click()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"Number",children:"Number"}),"\n",(0,t.jsx)(n.h4,{id:"Find-the-first-element-containing-a-number",children:"Find the first element containing a number"}),"\n",(0,t.jsxs)(n.p,{children:["Even though the ",(0,t.jsx)(n.code,{children:"<span>"}),' is the deepest element that contains a "4", Cypress\nautomatically yields ',(0,t.jsx)(n.code,{children:"<button>"})," elements over spans because of its\n",(0,t.jsx)(n.a,{href:"#Preferences",children:"preferred element order"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<button class="btn btn-primary" type="button">\n  Messages <span class="badge">4</span>\n</button>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields <button>\ncy.contains(4)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"Regular-Expression",children:"Regular Expression"}),"\n",(0,t.jsx)(n.h4,{id:"Find-the-first-element-with-text-matching-the-regular-expression",children:"Find the first element with text matching the regular expression"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<ul>\n  <li>apples</li>\n  <li>oranges</li>\n  <li>bananas</li>\n</ul>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields <li>bananas</li>\ncy.contains(/^b\\w+/)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"Selector",children:"Selector"}),"\n",(0,t.jsx)(n.h4,{id:"Specify-a-selector-to-return-a-specific-element",children:"Specify a selector to return a specific element"}),"\n",(0,t.jsxs)(n.p,{children:["Technically the ",(0,t.jsx)(n.code,{children:"<html>"}),", ",(0,t.jsx)(n.code,{children:"<body>"}),", ",(0,t.jsx)(n.code,{children:"<ul>"}),", and first ",(0,t.jsx)(n.code,{children:"<li>"}),' in the example\nbelow all contain "apples".']}),"\n",(0,t.jsxs)(n.p,{children:["Normally Cypress would return the first ",(0,t.jsx)(n.code,{children:"<li>"})," since that is the ",(0,t.jsx)(n.em,{children:"deepest"}),'\nelement that contains "apples".']}),"\n",(0,t.jsx)(n.p,{children:"To override the element that is yielded we can pass 'ul' as the selector."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<html>\n  <body>\n    <ul>\n      <li>apples</li>\n      <li>oranges</li>\n      <li>bananas</li>\n    </ul>\n  </body>\n</html>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields <ul>...</ul>\ncy.contains('ul', 'apples')\n"})}),"\n",(0,t.jsx)(n.h4,{id:"Keep-the-form-as-the-subject",children:"Keep the form as the subject"}),"\n",(0,t.jsxs)(n.p,{children:["Here's an example that uses the selector to ensure that the ",(0,t.jsx)(n.code,{children:"<form>"})," remains the\n",(0,t.jsx)(n.a,{href:"/app/core-concepts/introduction-to-cypress#Subject-Management",children:"subject"})," for\nfuture chaining."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<form>\n  <div>\n    <label>name</label>\n    <input name="name" />\n  </div>\n  <button type="submit">Proceed</button>\n</form>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.get('form') // yields <form>...</form>\n  .contains('form', 'Proceed') // yields <form>...</form>\n  .submit() // yields <form>...</form>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Without the explicit selector the subject would change to be the ",(0,t.jsx)(n.code,{children:"<button>"}),".\nUsing the explicit selector ensures that chained commands will have the ",(0,t.jsx)(n.code,{children:"<form>"}),"\nas the subject."]}),"\n",(0,t.jsx)(n.h3,{id:"Case-Sensitivity",children:"Case Sensitivity"}),"\n",(0,t.jsxs)(n.p,{children:["Here's an example using the ",(0,t.jsx)(n.code,{children:"matchCase"})," option to ignore case sensitivity."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<div>Capital Sentence</div>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"cy.get('div').contains('capital sentence') // fail\ncy.get('div').contains('capital sentence', { matchCase: false }) // pass\n"})}),"\n",(0,t.jsx)(n.h2,{id:"Notes",children:"Notes"}),"\n",(0,t.jsx)(n.h3,{id:"Scopes",children:"Scopes"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:".contains()"})," acts differently whether it's starting a series of commands or\nbeing chained off an existing series."]}),"\n",(0,t.jsx)(n.h4,{id:"When-starting-a-series-of-commands",children:"When starting a series of commands:"}),"\n",(0,t.jsxs)(n.p,{children:["This queries the entire ",(0,t.jsx)(n.code,{children:"document"})," for the content."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.contains('Log In')\n"})}),"\n",(0,t.jsx)(n.h4,{id:"When-chained-to-an-existing-series-of-commands",children:"When chained to an existing series of commands"}),"\n",(0,t.jsxs)(n.p,{children:["This will query inside of the ",(0,t.jsx)(n.code,{children:"<#checkout-container>"})," element."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.get('#checkout-container').contains('Buy Now')\n"})}),"\n",(0,t.jsx)(n.h4,{id:"Be-wary-of-chaining-multiple-contains",children:"Be wary of chaining multiple contains"}),"\n",(0,t.jsx)(n.p,{children:"Let's imagine a scenario where you click a button to delete a user and a dialog\nappears asking you to confirm this deletion."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// This doesn't work as intended\ncy.contains('Delete User').click().contains('Yes, Delete!').click()\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Because the second ",(0,t.jsx)(n.code,{children:".contains()"})," is chained off of a command that yielded the\n",(0,t.jsx)(n.code,{children:"<button>"}),", Cypress will look inside of the ",(0,t.jsx)(n.code,{children:"<button>"})," for the new content."]}),"\n",(0,t.jsxs)(n.p,{children:["In other words, Cypress will look inside of the ",(0,t.jsx)(n.code,{children:"<button>"}),' containing "Delete\nUser" for the content: "Yes, Delete!", which is not what we intended.']}),"\n",(0,t.jsxs)(n.p,{children:["What you want to do is call ",(0,t.jsx)(n.code,{children:"cy"})," again, which automatically creates a new chain\nscoped to the ",(0,t.jsx)(n.code,{children:"document"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.contains('Delete User').click()\ncy.contains('Yes, Delete!').click()\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"Leading-trailing-duplicate-whitespaces-arent-ignored-in-pre-tag",children:["Leading, trailing, duplicate whitespaces aren't ignored in ",(0,t.jsx)(n.code,{children:"<pre>"})," tag"]}),"\n",(0,t.jsxs)(n.p,{children:["Unlike other tags, ",(0,t.jsx)(n.code,{children:"<pre>"})," doesn't ignore leading, trailing, or duplicate\nwhitespaces as shown below:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"\x3c!--Code for test--\x3e\n<h2>Other tags</h2>\n<p>Hello, World !</p>\n\n<h2>Pre tag</h2>\n<pre>                 Hello,           World      !</pre>\n"})}),"\n",(0,t.jsx)(n.p,{children:"Rendered result:"}),"\n",(0,t.jsx)(s,{src:"/img/api/contains/contains-pre-exception.png",alt:"The result of pre tag"}),"\n",(0,t.jsx)(n.p,{children:"To reflect this behavior, Cypress also doesn't ignore them."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// test result for above code\n\ncy.get('p').contains('Hello, World !') // pass\ncy.get('p').contains('           Hello,          World   !') // fail\n\ncy.get('pre').contains('Hello, World !') // fail\ncy.get('pre').contains('                 Hello,           World      !') // pass\n"})}),"\n",(0,t.jsx)(n.h3,{id:"Non-breaking-space",children:"Non-breaking space"}),"\n",(0,t.jsxs)(n.p,{children:["You can use a space character in ",(0,t.jsx)(n.code,{children:"cy.contains()"})," to match text in the HTML that\nuses a non-breaking space entity ",(0,t.jsx)(n.code,{children:"&nbsp;"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<span>Hello&nbsp;world</span>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// finds the span element\ncy.contains('Hello world')\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Tip:"})," read about assertions against a text with non-breaking space entities\nin\n",(0,t.jsx)(n.a,{href:"/app/faq#How-do-I-get-an-elements-text-contents",children:"How do I get an element's text contents?"})]}),"\n",(0,t.jsx)(n.h3,{id:"Single-Element",children:"Single Element"}),"\n",(0,t.jsxs)(n.h4,{id:"Only-the-first-matched-element-will-be-returned",children:["Only the ",(0,t.jsx)(n.em,{children:"first"})," matched element will be returned"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<ul id="header">\n  <li>Welcome, Jane Lane</li>\n</ul>\n<div id="main">\n  <span>These users have 10 connections with Jane Lane</span>\n  <ul>\n    <li>Jamal</li>\n    <li>Patricia</li>\n  </ul>\n</div>\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The below example will return the ",(0,t.jsx)(n.code,{children:"<li>"})," in the ",(0,t.jsx)(n.code,{children:"#header"})," since that is the\n",(0,t.jsx)(n.em,{children:"first"}),' element that contains the text "Jane Lane".']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields #header li\ncy.contains('Jane Lane')\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you wanted to select the ",(0,t.jsx)(n.code,{children:"<span>"})," instead, you could narrow the elements\nyielded before the ",(0,t.jsx)(n.code,{children:".contains()"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields <span>\ncy.get('#main').contains('Jane Lane')\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"Default-input-typesubmit-labels",children:["Default ",(0,t.jsx)(n.code,{children:'<input type="submit">'})," labels"]}),"\n",(0,t.jsxs)(n.p,{children:["When the ",(0,t.jsx)(n.code,{children:"value"})," attribute is omitted from an ",(0,t.jsx)(n.code,{children:'<input type="submit">'}),", the\ndefault label is used and can be locale-dependent.\n",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/submit#omitting_the_value_attribute",children:"More info at MDN."})]}),"\n",(0,t.jsxs)(n.p,{children:["When this happens, the ",(0,t.jsx)(n.code,{children:"value"})," is an empty string, and there is no programmatic\nway for Cypress to filter elements by the label displayed by the user agent.\nThis can cause unexpected failures when using ",(0,t.jsx)(n.code,{children:"cy.contains()"})," with submit\nbuttons."]}),"\n",(0,t.jsx)(n.p,{children:"The solution in this case is to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:" // assert the empty string\n cy.get('input').should('have.value', '')\n\n // ---or---\n\n // if possible, set the `value` attribute\n <input type=submit value=\"Submit\" />\n"})}),"\n",(0,t.jsx)(n.h3,{id:"Preferences",children:"Preferences"}),"\n",(0,t.jsx)(n.h4,{id:"Element-preference-order",children:"Element preference order"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:".contains()"})," defaults to preferring elements higher in the tree when they are:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"input[type='submit']"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"button"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"a"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"label"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Cypress will ignore this element preference order if you pass a selector\nargument to ",(0,t.jsx)(n.code,{children:".contains()"}),"."]}),"\n",(0,t.jsxs)(n.h4,{id:"Favor-of-button-over-other-deeper-elements",children:["Favor of ",(0,t.jsx)(n.code,{children:"<button>"})," over other deeper elements"]}),"\n",(0,t.jsxs)(n.p,{children:["Even though the ",(0,t.jsx)(n.code,{children:"<span>"}),' is the deepest element that contains "Search", Cypress\nyields ',(0,t.jsx)(n.code,{children:"<button>"})," elements over spans."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<form>\n  <button>\n    <i class="fa fa-search"></i>\n    <span>Search</span>\n  </button>\n</form>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields <button>\ncy.contains('Search').children('i').should('have.class', 'fa-search')\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"Favor-of-a-over-other-deeper-elements",children:["Favor of ",(0,t.jsx)(n.code,{children:"<a>"})," over other deeper elements"]}),"\n",(0,t.jsxs)(n.p,{children:["Even though the ",(0,t.jsx)(n.code,{children:"<span>"}),' is the deepest element that contains "Sign Out",\nCypress yields anchor elements over spans.']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<nav>\n  <a href="/users">\n    <span>Users</span>\n  </a>\n  <a href="/signout">\n    <span>Sign Out</span>\n  </a>\n</nav>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields <a>\ncy.get('nav').contains('Sign Out').should('have.attr', 'href', '/signout')\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"Favor-of-label-over-other-deeper-elements",children:["Favor of ",(0,t.jsx)(n.code,{children:"<label>"})," over other deeper elements"]}),"\n",(0,t.jsxs)(n.p,{children:["Even though the ",(0,t.jsx)(n.code,{children:"<span>"}),' is the deepest element that contains "Age", Cypress\nyields ',(0,t.jsx)(n.code,{children:"<label>"})," elements over ",(0,t.jsx)(n.code,{children:"<span>"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<form>\n  <label>\n    <span>Name:</span>\n    <input name="name" />\n  </label>\n  <label>\n    <span>Age:</span>\n    <input name="age" />\n  </label>\n</form>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// yields label\ncy.contains('Age').find('input').type('29')\n"})}),"\n",(0,t.jsx)(n.h2,{id:"Rules",children:"Rules"}),"\n",(0,t.jsxs)(n.h3,{id:"Requirements",children:["Requirements ",(0,t.jsx)(n.a,{href:"/app/core-concepts/introduction-to-cypress#Chains-of-Commands",children:(0,t.jsx)(l,{name:"question-circle"})})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".contains()"})," can be chained off of ",(0,t.jsx)(n.code,{children:"cy"})," or off a command that yields DOM\nelement(s)."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"Assertions",children:["Assertions ",(0,t.jsx)(n.a,{href:"/app/core-concepts/introduction-to-cypress#Assertions",children:(0,t.jsx)(l,{name:"question-circle"})})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".contains()"})," will automatically ",(0,t.jsx)(n.a,{href:"/app/core-concepts/retry-ability",children:"retry"}),"\nuntil the element(s)\n",(0,t.jsx)(n.a,{href:"/app/core-concepts/introduction-to-cypress#Implicit-Assertions",children:"exist in the DOM"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".contains()"}),"will automatically ",(0,t.jsx)(n.a,{href:"/app/core-concepts/retry-ability",children:"retry"}),"\nuntil all chained assertions have passed."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"Timeouts",children:["Timeouts ",(0,t.jsx)(n.a,{href:"/app/core-concepts/introduction-to-cypress#Timeouts",children:(0,t.jsx)(l,{name:"question-circle"})})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".contains()"})," can time out waiting for the element(s) to\n",(0,t.jsx)(n.a,{href:"/app/core-concepts/introduction-to-cypress#Implicit-Assertions",children:"exist in the DOM"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:".contains()"})," can time out waiting for assertions you've added to pass."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"Command-Log",children:"Command Log"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:'Element contains text "New User"'})})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.get('h1').contains('New User')\n"})}),"\n",(0,t.jsx)(n.p,{children:"The commands above will display in the Command Log as:"}),"\n",(0,t.jsx)(s,{src:"/img/api/contains/find-el-that-contains-text.png",alt:"Command Log contains"}),"\n",(0,t.jsxs)(n.p,{children:["When clicking on the ",(0,t.jsx)(n.code,{children:"contains"})," command within the command log, the console\noutputs the following:"]}),"\n",(0,t.jsx)(s,{src:"/img/api/contains/see-elements-found-from-contains-in-console.png",alt:"console.log contains"}),"\n",(0,t.jsx)(n.h2,{id:"History",children:"History"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Version"}),(0,t.jsx)(n.th,{children:"Changes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/app/references/changelog#5-2-0",children:"5.2.0"})}),(0,t.jsxs)(n.td,{children:["Added ",(0,t.jsx)(n.code,{children:"includeShadowDom"})," option."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/app/references/changelog#4-0-0",children:"4.0.0"})}),(0,t.jsxs)(n.td,{children:["Added support for option ",(0,t.jsx)(n.code,{children:"matchCase"}),"."]})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"See-also",children:"See also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/commands/get",children:(0,t.jsx)(n.code,{children:"cy.get()"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/commands/invoke",children:(0,t.jsx)(n.code,{children:".invoke()"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/commands/within",children:(0,t.jsx)(n.code,{children:".within()"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/app/core-concepts/retry-ability",children:"Retry-ability"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},1151:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>c});var t=s(7294);const i={},l=t.createContext(i);function c(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);