"use strict";(self.webpackChunkcypress_docusaurus_zh=self.webpackChunkcypress_docusaurus_zh||[]).push([[13],{2680:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>a});var i=n(5893),s=n(1151);const o={title:"Bitbucket Integration | Cypress Documentation",description:"Configure Bitbucket status checks and pull request comments to show Cypress test results from Cypress Cloud.",sidebar_position:30,sidebar_label:"Bitbucket"},r="Bitbucket",c={id:"cloud/integrations/source-control/bitbucket",title:"Bitbucket Integration | Cypress Documentation",description:"Configure Bitbucket status checks and pull request comments to show Cypress test results from Cypress Cloud.",source:"@site/docs/cloud/integrations/source-control/bitbucket.mdx",sourceDirName:"cloud/integrations/source-control",slug:"/cloud/integrations/source-control/bitbucket",permalink:"/cloud/integrations/source-control/bitbucket",draft:!1,unlisted:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/cloud/integrations/source-control/bitbucket.mdx",tags:[],version:"current",lastUpdatedAt:1732009455,formattedLastUpdatedAt:"Nov 19, 2024",sidebarPosition:30,frontMatter:{title:"Bitbucket Integration | Cypress Documentation",description:"Configure Bitbucket status checks and pull request comments to show Cypress test results from Cypress Cloud.",sidebar_position:30,sidebar_label:"Bitbucket"},sidebar:"cloud",previous:{title:"GitLab",permalink:"/cloud/integrations/source-control/gitlab"},next:{title:"Jira",permalink:"/cloud/integrations/jira"}},l={},a=[{value:"<Icon></Icon> What you&#39;ll learn",id:"What-youll-learn",level:5},{value:"Installing the Bitbucket integration",id:"Installing-the-Bitbucket-integration",level:2},{value:"Configuring the Bitbucket integration",id:"Configuring-the-Bitbucket-integration",level:2},{value:"Status checks",id:"Status-checks",level:3},{value:"Pull Request comments",id:"Pull-Request-comments",level:3},{value:"Uninstalling the Bitbucket integration",id:"Uninstalling-the-Bitbucket-integration",level:2}];function u(t){const e={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",h5:"h5",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...t.components},{DocsImage:n,Icon:o,TestReplayInfo:r}=e;return n||d("DocsImage",!0),o||d("Icon",!0),r||d("TestReplayInfo",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"Bitbucket",children:"Bitbucket"}),"\n",(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.h5,{id:"What-youll-learn",children:[(0,i.jsx)(o,{name:"question-circle",color:"#4BBFD2"})," What you'll learn"]}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"How to install the Cypress Bitbucket integration"}),"\n",(0,i.jsx)(e.li,{children:"How to configure status checks and pull request comments"}),"\n"]})]}),"\n",(0,i.jsx)(e.admonition,{type:"caution",children:(0,i.jsxs)(e.p,{children:[(0,i.jsx)(o,{name:"exclamation-triangle"})," Bitbucket integration is currently in beta"]})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://on.cypress.io/cloud",children:"Cypress Cloud"})," can integrate your Cypress tests\nwith your Bitbucket workflow via ",(0,i.jsx)(e.a,{href:"#Status-checks",children:"status checks"})," and\n",(0,i.jsx)(e.a,{href:"#Pull-Request-comments",children:"pull request comments"}),". A project first needs to be\n",(0,i.jsx)(e.a,{href:"/cloud/account-management/projects",children:"set up to record"})," to Cypress Cloud\nto use Bitbucket integration."]}),"\n",(0,i.jsx)(n,{src:"/img/cloud/integrations/bitbucket/bitbucket-merge-request-comment.jpg",alt:"Bitbucket merge request comment",width:800}),"\n",(0,i.jsx)(e.admonition,{type:"caution",children:(0,i.jsxs)(e.p,{children:["Bitbucket Integration depends on your CI environment reliably providing a commit\nSHA (typically via an environment variable). This is not a problem for most\nusers, but if you are facing Bitbucket integration issues with your CI setup,\nplease make sure the git information is being sent properly by following\n",(0,i.jsx)(e.a,{href:"/app/continuous-integration/overview#Git-information",children:"these guidelines"}),".\nIf you still face issues after this, please\n",(0,i.jsx)(e.a,{href:"mailto:hello@cypress.io",children:"contact us"}),"."]})}),"\n",(0,i.jsx)(e.h2,{id:"Installing-the-Bitbucket-integration",children:"Installing the Bitbucket integration"}),"\n",(0,i.jsx)(e.admonition,{type:"caution",children:(0,i.jsx)(e.p,{children:"Bitbucket OAuth2 applications will allow Cypress Cloud to authenticate as the\nuser that registered the application. That means Cypress will have visibility to\nevery Bitbucket repo you can access. If you want tighter control over the repos\nthat Cypress will see, consider creating a service account with more limited\naccess in Bitbucket."})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["Visit ",(0,i.jsx)(e.strong,{children:"Integrations"})," in Cypress Cloud."]}),"\n",(0,i.jsxs)(e.li,{children:["Click ",(0,i.jsx)(e.strong,{children:"Install Bitbucket Integration"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["(For beta only) You need to enable Bitbucket's\n",(0,i.jsx)(e.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/enable-bitbucket-cloud-development-mode/",children:"development mode"}),"\nfor your user account to continue."]}),"\n",(0,i.jsx)(e.li,{children:"Continue through the Bitbucket OAuth installation flow in the popup window."}),"\n",(0,i.jsx)(e.li,{children:"Once installed, connect your projects to a Bitbucket repo."}),"\n",(0,i.jsx)(e.li,{children:"(Optional) Configure the behavior for each project."}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"Configuring-the-Bitbucket-integration",children:"Configuring the Bitbucket integration"}),"\n",(0,i.jsx)(e.h3,{id:"Status-checks",children:"Status checks"}),"\n",(0,i.jsxs)(e.p,{children:["By default, Cypress will post a ",(0,i.jsx)(e.strong,{children:"cypress/run"})," commit status containing the\nresults of the Cypress run. This will prevent your team from merging any PRs\nwith failing Cypress tests."]}),"\n",(0,i.jsxs)(e.p,{children:["Additionally, Cypress can post a ",(0,i.jsx)(e.strong,{children:"cypress/flake"})," commit status indicating\nwhether the Cypress run contained any flaky tests. This will prevent your team\nfrom merging any PRs with flaky tests."]}),"\n",(0,i.jsxs)(e.p,{children:["You can manage this behavior on your project's ",(0,i.jsx)(e.strong,{children:"Project Settings"})," page."]}),"\n",(0,i.jsx)(e.h3,{id:"Pull-Request-comments",children:"Pull Request comments"}),"\n",(0,i.jsx)(e.p,{children:"By default, Cypress will post a PR comment summarizing the run when the run\ncompletes. It will include test results, run info, and a summary of tests that\nfailed or were flaky."}),"\n",(0,i.jsxs)(e.p,{children:["You can manage this behavior on your project's ",(0,i.jsx)(e.strong,{children:"Project Settings"})," page."]}),"\n",(0,i.jsx)(r,{}),"\n",(0,i.jsx)(e.h2,{id:"Uninstalling-the-Bitbucket-integration",children:"Uninstalling the Bitbucket integration"}),"\n",(0,i.jsxs)(e.p,{children:["You can remove this integration by visiting the ",(0,i.jsx)(e.strong,{children:"Integrations \u2192 Bitbucket"}),"\npage of your organization. This will stop all status checks and PR comments from\nCypress."]})]})}function h(t={}){const{wrapper:e}={...(0,s.a)(),...t.components};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(u,{...t})}):u(t)}function d(t,e){throw new Error("Expected "+(e?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}},1151:(t,e,n)=>{n.d(e,{Z:()=>c,a:()=>r});var i=n(7294);const s={},o=i.createContext(s);function r(t){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function c(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:r(t.components),i.createElement(o.Provider,{value:e},t.children)}}}]);